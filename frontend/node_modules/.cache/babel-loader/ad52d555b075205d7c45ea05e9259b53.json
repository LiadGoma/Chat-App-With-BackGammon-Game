{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\liadg\\\\Downloads\\\\Chat-App-BackGammon-main\\\\Chat-App-BackGammon-main\\\\frontend\\\\src\\\\components\\\\gameComponents\\\\RollDice\\\\RollDice.js\",\n    _s = $RefreshSig$();\n\nimport \"./RollDice.css\";\nimport React, { useEffect, useState } from 'react';\nimport Die from \"../Die/Die\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction RollDice(_ref) {\n  _s();\n\n  let {\n    seconds,\n    quitGame,\n    endTurn,\n    rolledOnce,\n    enemyRoll,\n    isMyTurn,\n    socket\n  } = _ref;\n  const [die1, setDie1] = useState(\"one\");\n  const [die2, setDie2] = useState(\"one\");\n  const [rolling, setRolling] = useState(false);\n  useEffect(() => {\n    console.log(isMyTurn, \"in the dice\");\n  }, [isMyTurn]);\n  const sides = [{\n    one: 1\n  }, {\n    two: 2\n  }, {\n    three: 3\n  }, {\n    four: 4\n  }, {\n    five: 5\n  }, {\n    six: 6\n  }];\n\n  const roll = () => {\n    setRolling(true);\n    const result1 = sides[Math.floor(Math.random() * sides.length)];\n    const result2 = sides[Math.floor(Math.random() * sides.length)];\n    setDie1(Object.keys(result1)[0]);\n    setDie2(Object.keys(result2)[0]);\n    const number1 = Object.values(result1)[0];\n    const number2 = Object.values(result2)[0];\n    localStorage.setItem(\"value1\", number1);\n    localStorage.setItem(\"value2\", number2);\n\n    if (localStorage.getItem(\"value1\") === localStorage.getItem(\"value2\")) {\n      localStorage.setItem(\"value3\", number1);\n      localStorage.setItem(\"value4\", number2);\n    }\n\n    socket.current.emit(\"rollDice\", Object.values(result1)[0], Object.values(result2)[0], localStorage.getItem(\"roomName\")); //  socket.current.on(\"enemyRolledDice\", (data) => {\n    //      console.log(data);\n    //  })\n\n    setTimeout(() => {\n      setRolling(false);\n    }, 1300);\n  }; // useState(() => {\n  //     socket.current?.on(\"enemyRolledDice\", (data) => {\n  //         console.log(data);\n  //     })\n  // },[socket])\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"roll-dice\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dice-container\",\n      children: enemyRoll && !isMyTurn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Die, {\n          face: Object.keys(sides[enemyRoll.number1 - 1])[0],\n          rolling: rolling\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 45\n        }, this), /*#__PURE__*/_jsxDEV(Die, {\n          face: Object.keys(sides[enemyRoll.number2 - 1])[0],\n          rolling: rolling\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\" \", /*#__PURE__*/_jsxDEV(Die, {\n          face: die1,\n          rolling: rolling\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(Die, {\n          face: die2,\n          rolling: rolling\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), isMyTurn ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"myBtn\",\n        onClick: roll,\n        disabled: rolling || rolledOnce,\n        children: rolling ? \"Rolling...\" : \"Roll Dice\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"myBtn end\",\n        onClick: endTurn,\n        children: \"End Turn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"myBtn quit\",\n        onClick: quitGame,\n        children: \"Quit Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"myBtn seconds\",\n        disabled: true,\n        children: seconds\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"myBtn\",\n        onClick: roll,\n        disabled: true,\n        children: \"Not Your Turn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"myBtn quit\",\n        onClick: quitGame,\n        children: \"Quit Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"myBtn seconds\",\n        disabled: true,\n        children: seconds\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RollDice, \"KvEXhzUGTg3lYLb8BQMGz7QNUsg=\");\n\n_c = RollDice;\nexport default RollDice;\n\nvar _c;\n\n$RefreshReg$(_c, \"RollDice\");","map":{"version":3,"sources":["C:/Users/liadg/Downloads/Chat-App-BackGammon-main/Chat-App-BackGammon-main/frontend/src/components/gameComponents/RollDice/RollDice.js"],"names":["React","useEffect","useState","Die","RollDice","seconds","quitGame","endTurn","rolledOnce","enemyRoll","isMyTurn","socket","die1","setDie1","die2","setDie2","rolling","setRolling","console","log","sides","one","two","three","four","five","six","roll","result1","Math","floor","random","length","result2","Object","keys","number1","values","number2","localStorage","setItem","getItem","current","emit","setTimeout"],"mappings":"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","sourcesContent":["import \"./RollDice.css\";\r\nimport React, { useEffect, useState } from 'react'\r\nimport Die from \"../Die/Die\";\r\n\r\nfunction RollDice({ seconds, quitGame, endTurn, rolledOnce, enemyRoll, isMyTurn, socket }) {\r\n    const [die1, setDie1] = useState(\"one\");\r\n    const [die2, setDie2] = useState(\"one\");\r\n    const [rolling, setRolling] = useState(false);\r\n\r\n    useEffect(() => {\r\n        console.log(isMyTurn, \"in the dice\");\r\n    }, [isMyTurn])\r\n\r\n    const sides = [\r\n        { one: 1 },\r\n        { two: 2 },\r\n        { three: 3 },\r\n        { four: 4 },\r\n        { five: 5 },\r\n        { six: 6 },\r\n    ]\r\n\r\n    const roll = () => {\r\n        setRolling(true);\r\n        const result1 = sides[Math.floor(Math.random() * sides.length)];\r\n        const result2 = sides[Math.floor(Math.random() * sides.length)];\r\n        setDie1(Object.keys(result1)[0]);\r\n        setDie2(Object.keys(result2)[0]);\r\n        const number1 = Object.values(result1)[0];\r\n        const number2 = Object.values(result2)[0];\r\n        localStorage.setItem(\"value1\", number1);\r\n        localStorage.setItem(\"value2\", number2);\r\n        if (localStorage.getItem(\"value1\") === localStorage.getItem(\"value2\")) {\r\n            localStorage.setItem(\"value3\", number1);\r\n            localStorage.setItem(\"value4\", number2);\r\n        }\r\n        socket.current.emit(\"rollDice\", Object.values(result1)[0], Object.values(result2)[0], localStorage.getItem(\"roomName\"));\r\n        //  socket.current.on(\"enemyRolledDice\", (data) => {\r\n        //      console.log(data);\r\n        //  })\r\n\r\n        setTimeout(() => {\r\n            setRolling(false);\r\n        }, 1300)\r\n    }\r\n    // useState(() => {\r\n    //     socket.current?.on(\"enemyRolledDice\", (data) => {\r\n    //         console.log(data);\r\n    //     })\r\n    // },[socket])\r\n\r\n    return (\r\n        <div className=\"roll-dice\">\r\n            <div className=\"dice-container\">\r\n                {enemyRoll && !isMyTurn ? <><Die face={Object.keys(sides[enemyRoll.number1 - 1])[0]} rolling={rolling} />\r\n                    <Die face={Object.keys(sides[enemyRoll.number2 - 1])[0]} rolling={rolling} /></>\r\n                    :\r\n                    <> <Die face={die1} rolling={rolling} />\r\n                        <Die face={die2} rolling={rolling} /></>}\r\n            </div>\r\n            {isMyTurn ?\r\n                <div>\r\n                    <button className=\"myBtn\" onClick={roll} disabled={rolling || rolledOnce}>{rolling ? \"Rolling...\" : \"Roll Dice\"}</button>\r\n                    <button className=\"myBtn end\" onClick={endTurn}>End Turn</button>\r\n                    <button className=\"myBtn quit\" onClick={quitGame}>Quit Game</button>\r\n                    <button className=\"myBtn seconds\" disabled >{seconds}</button>\r\n                </div>\r\n                :\r\n                <div>\r\n                    <button className=\"myBtn\" onClick={roll} disabled={true}>Not Your Turn</button>\r\n                    <button className=\"myBtn quit\" onClick={quitGame}>Quit Game</button>\r\n                    <button className=\"myBtn seconds\" disabled >{seconds}</button>\r\n                </div>\r\n            }\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default RollDice\r\n"]},"metadata":{},"sourceType":"module"}