{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\liadg\\\\Downloads\\\\Chat-App-BackGammon-main\\\\Chat-App-BackGammon-main\\\\frontend\\\\src\\\\components\\\\ContactsPanel\\\\ContactsPanel.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Contact from '../Contact/Contact';\nimport \"./ContactsPanel.css\";\nimport { getUsers } from \"../../services/userService\";\nimport auth from '../../services/authService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ContactsPanel(_ref) {\n  _s();\n\n  let {\n    userClick,\n    currentUser,\n    onlineUsers\n  } = _ref;\n  const [users, setUsers] = useState([]);\n  const [onlineFriends, setOnlineFriends] = useState([]);\n  const [offlineFriends, setOfflineFriends] = useState([]);\n  useEffect(() => {\n    const loadUsers = async () => {\n      let {\n        data\n      } = await getUsers();\n      data = data.filter(user => user._id !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id));\n      setUsers(data);\n    };\n\n    loadUsers();\n  }, [currentUser]);\n  useEffect(() => {\n    setOnlineFriends(users.filter(user => onlineUsers.includes(user._id)));\n  }, [onlineUsers, users]);\n  useEffect(() => {\n    const usersss = users.filter(user => !onlineUsers.includes(user._id));\n    setOfflineFriends(usersss);\n  }, [users, onlineFriends]);\n\n  const switchChat = clickedUser => {\n    userClick(clickedUser);\n    userClick(clickedUser);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"contacts\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"search for users\",\n      className: \"chatMenuInput\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"users\",\n      children: onlineFriends === null || onlineFriends === void 0 ? void 0 : onlineFriends.map(user => {\n        return /*#__PURE__*/_jsxDEV(Contact, {\n          user: user,\n          status: \"online\",\n          click: switchChat\n        }, user.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 29\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"offline users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"users\",\n      children: offlineFriends === null || offlineFriends === void 0 ? void 0 : offlineFriends.map(user => {\n        return /*#__PURE__*/_jsxDEV(Contact, {\n          user: user,\n          status: \"offline\",\n          click: switchChat\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 28\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bottom\",\n      children: \"profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ContactsPanel, \"jd+NuPUSO0VB2qCcfh/vBPtdKNw=\");\n\n_c = ContactsPanel;\nexport default ContactsPanel;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContactsPanel\");","map":{"version":3,"sources":["C:/Users/liadg/Downloads/Chat-App-BackGammon-main/Chat-App-BackGammon-main/frontend/src/components/ContactsPanel/ContactsPanel.jsx"],"names":["React","useState","useEffect","Contact","getUsers","auth","ContactsPanel","userClick","currentUser","onlineUsers","users","setUsers","onlineFriends","setOnlineFriends","offlineFriends","setOfflineFriends","loadUsers","data","filter","user","_id","id","includes","usersss","switchChat","clickedUser","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Contact from '../Contact/Contact';\r\nimport \"./ContactsPanel.css\";\r\nimport { getUsers } from \"../../services/userService\";\r\nimport auth from '../../services/authService';\r\nfunction ContactsPanel({ userClick, currentUser, onlineUsers }) {\r\n    const [users, setUsers] = useState([]);\r\n    const [onlineFriends, setOnlineFriends] = useState([]);\r\n    const [offlineFriends, setOfflineFriends] = useState([]);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const loadUsers = async () => {\r\n            let { data } = await getUsers();\r\n            data = data.filter((user) => user._id !== currentUser?.id);\r\n            setUsers(data);\r\n        }\r\n        loadUsers();\r\n    }, [currentUser])\r\n\r\n    useEffect(() => {\r\n        setOnlineFriends(users.filter(user => onlineUsers.includes(user._id)));\r\n\r\n    }, [onlineUsers, users])\r\n    useEffect(() => {\r\n        const usersss = users.filter((user) => !onlineUsers.includes(user._id));\r\n        setOfflineFriends(usersss);\r\n    }, [users, onlineFriends])\r\n\r\n    const switchChat = (clickedUser) => {\r\n        userClick(clickedUser);\r\n        userClick(clickedUser);\r\n    }\r\n    return (\r\n        <div className=\"contacts\">\r\n            <input placeholder=\"search for users\" className=\"chatMenuInput\"></input>\r\n            <div className=\"users\">\r\n                {onlineFriends?.map((user) => {\r\n                    return  <Contact key={user.id} user={user} status=\"online\" click={switchChat} />\r\n                })}\r\n            </div>\r\n            <div>offline users</div>\r\n            <div className=\"users\">\r\n                {offlineFriends?.map(user => {\r\n                    return <Contact user={user} status=\"offline\" click={switchChat} />\r\n                })}\r\n            </div>\r\n            <div className=\"bottom\">profile</div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContactsPanel\r\n"]},"metadata":{},"sourceType":"module"}