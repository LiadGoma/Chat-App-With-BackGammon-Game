{"ast":null,"code":"import axios from 'axios';\nimport jwtDecode from 'jwt-decode';\nconst url = \"https://chat-app-backgammon.herokuapp.com/api/auth\";\nexport async function login(email, password) {\n  const {\n    data: jwt\n  } = await axios.post(url, {\n    email,\n    password\n  });\n  localStorage.setItem(\"token\", jwt);\n}\nexport function logout() {\n  localStorage.removeItem('token');\n}\nexport function logInWithJwt(jwt) {\n  localStorage.setItem('token', jwt);\n}\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(\"token\");\n    const user = jwtDecode(jwt);\n    return user;\n  } catch (ex) {\n    return null;\n  }\n}\nexport default {\n  login,\n  logout,\n  getCurrentUser,\n  logInWithJwt\n};","map":{"version":3,"sources":["C:/Users/liadg/Downloads/Chat-App-BackGammon-main/Chat-App-BackGammon-main/frontend/src/services/authService.js"],"names":["axios","jwtDecode","url","login","email","password","data","jwt","post","localStorage","setItem","logout","removeItem","logInWithJwt","getCurrentUser","getItem","user","ex"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,MAAMC,GAAG,GAAG,oDAAZ;AAEA,OAAO,eAAeC,KAAf,CAAqBC,KAArB,EAA4BC,QAA5B,EAAsC;AACzC,QAAM;AAAEC,IAAAA,IAAI,EAAEC;AAAR,MAAgB,MAAMP,KAAK,CAACQ,IAAN,CAAWN,GAAX,EAAgB;AACxCE,IAAAA,KADwC;AACjCC,IAAAA;AADiC,GAAhB,CAA5B;AAGAI,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,GAA9B;AACH;AACD,OAAO,SAASI,MAAT,GAAkB;AACrBF,EAAAA,YAAY,CAACG,UAAb,CAAwB,OAAxB;AACH;AACD,OAAO,SAASC,YAAT,CAAsBN,GAAtB,EAA2B;AAC9BE,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BH,GAA7B;AACH;AACD,OAAO,SAASO,cAAT,GAA0B;AAC7B,MAAI;AACA,UAAMP,GAAG,GAAGE,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAZ;AACA,UAAMC,IAAI,GAAGf,SAAS,CAACM,GAAD,CAAtB;AACA,WAAOS,IAAP;AACH,GAJD,CAIE,OAAOC,EAAP,EAAW;AACT,WAAO,IAAP;AACH;AAEJ;AACD,eAAe;AACXd,EAAAA,KADW;AAEXQ,EAAAA,MAFW;AAGXG,EAAAA,cAHW;AAIXD,EAAAA;AAJW,CAAf","sourcesContent":["import axios from 'axios';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nconst url = \"https://chat-app-backgammon.herokuapp.com/api/auth\";\r\n\r\nexport async function login(email, password) {\r\n    const { data: jwt } = await axios.post(url, {\r\n        email, password\r\n    });\r\n    localStorage.setItem(\"token\", jwt);\r\n}\r\nexport function logout() {\r\n    localStorage.removeItem('token');\r\n}\r\nexport function logInWithJwt(jwt) {\r\n    localStorage.setItem('token',jwt);\r\n}\r\nexport function getCurrentUser() {\r\n    try {\r\n        const jwt = localStorage.getItem(\"token\");\r\n        const user = jwtDecode(jwt);\r\n        return user;\r\n    } catch (ex) {\r\n        return null;\r\n    }\r\n\r\n}\r\nexport default {\r\n    login,\r\n    logout,\r\n    getCurrentUser,\r\n    logInWithJwt\r\n};"]},"metadata":{},"sourceType":"module"}